#### [back](../../../README.md) &nbsp;&nbsp; | &nbsp;&nbsp; write by [Sangcho](sangcho)

# 37. ê³µì‹ ëª…ì¹­ì—ëŠ” ìƒí‘œë¥¼ ë¶™ì´ê¸°

<p align="center" style="width:500px; margin: 0 auto">
    <img src="../../image/main.png">
</p>

---

> ì´ ê¸€ì€ ì´í™í‹°ë¸Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì°¸ê³ í•˜ì—¬ ê¸°ë¡í•˜ì˜€ìŠµë‹ˆë‹¤.

<br>

## 1. ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ìƒí‘œë¥¼ ì‚¬ìš©í•´ë¼. 

***case 01*** ğŸ˜
```typescript
// Worst
interface Vector2D {
  x: number;
  y: number;
}
function calculateNorm(p: Vector2D) {
  return math.sqrt(p.x * p.x + p.y * p.y);
}
calculateNorm({ x: 3, y: 4 }); // ì •ìƒ, 5
const vec3D = { x: 3, y: 4, z: 1 };
calculateNorm(vec3D); // ì •ìƒ, 5
```

- ë¬¸ì œê°€ ì—†ì§€ë§Œ ìˆ˜í•™ì ìœ¼ë¡œëŠ” 2ì°¨ì› ë²¡íƒ€ë¥¼ ì‚¬ìš©í•´ì•¼ ì´ì¹˜ì— ë§ë‹¤.
- ì´ëŸ° ê²½ìš° 3ì°¨ì› ë²¡í„°ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ê³µì‹ ëª…ì¹­ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ìƒí‘œë¥¼ ì‚¬ìš©í•˜ì—¬ ê³µì‹ ëª…ì¹­ì„ í‰ë‚´ë‚¼ ìˆ˜ ìˆë‹¤.

```typescript
// Best 
interface Vector2D {
  _brand: "2d";
  x: number;
  y: number;
}
function vec2D(x: number, y: number): Vector2D {
  return { x, y, _brand: "2d" };
}
function calculateNorm(p: Vector2D) {
  return math.sqrt(p.x * p.x + p.y * p.y);
}
calculateNorm(vec2D(3, 4)); // ì •ìƒ, 5
const vec3D = { x: 3, y: 4, z: 1 };
calculateNorm(vec3D); // '_brand'ì†ì„±ì´ ... í˜•ì‹ì— ì—†ìŠµë‹ˆë‹¤
```

- ìƒí‘œ(_brand)ë¥¼ ì‚¬ìš©í•´ì„œ calculateNorm í•¨ìˆ˜ê°€ 2ì°¨ì› ë²¡í„°ë§Œì„ ë°›ë„ë¡ ê°•ì œí•  ìˆ˜ ìˆë‹¤.

***case 02*** ğŸ˜

```typescript
type Meters = number & {_brand: 'meters'};
type Seconds = number & {_brand: 'seconds'};

const meters = (m: number) => m as Meters;
const seconds = (s: number) => s as Seconds;

const oneKm = meters(1000);
const oneMin = seconds(60);
```

- number íƒ€ì…ì— ìƒí‘œë¥¼ ë¶™ì¼ ìˆ˜ ìˆë‹¤.
- ì—¬ëŸ¬ ë‹¨ìœ„ê°€ í˜¼í•©ëœ ë§ì€ ìˆ˜ì˜ ìˆ«ìê°€ ë“¤ì–´ ìˆëŠ” ê²½ìš° ì¢‹ì€ ë°©ë²•ì´ë‹¤.

***case 03*** ğŸ˜Ÿ

```typescript
type Brand<Key extends string, Value> = Value & { __brand: Key } // í‚¤ ì´ë¦„ì€ ì•„ë¬´ê±°ë‚˜ ê°€ëŠ¥

type Address = Brand<'Address', string>
type Tel = Brand<'Tel', string>

const nationalAssemblyAddr = 'ì„œìš¸íŠ¹ë³„ì‹œ ì˜ë“±í¬êµ¬ ì—¬ì˜ë„ë™ ì˜ì‚¬ë‹¹ëŒ€ë¡œ 1' as Address
const nationalAssemblyTel = '02-788-2114' as Tel

const incorrectAssignment1: Tel = nationalAssemblyAddress
//                                ^^^^^^^^^^^^^^^^^^^^^^^ Error
const incorrectAssignment2: Tel = nationalAssemblyAddress as Tel
//
```

- ê³ ìœ í•œ íƒ€ì…ì„ í‰ë‚´ë‚¼ ìˆ˜ ìˆëŠ” ë°©ì‹ì´ë‹¤.
- ë‚™ì¸ì´ë¼ê³ ë„ í•œë‹¤. ë‚™ì¸ì„ ì°ì–´ì„œ ì¼ë°˜ì ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ì—ˆëŠ” íƒ€ì…ì„ ì„ ì–¸í•œë‹¤.

## 2. ì •ë¦¬

- ë• íƒ€ì´í•‘ì„ ì‚¬ìš©í•˜ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ê°’ì„ ì„¸ë°€í•˜ê²Œ êµ¬ë¶„í•˜ì§€ ëª»í•˜ê¸° ë–„ë¬¸ì— ê°’ì„ êµ¬ë¶„í•˜ê¸° ìœ„í•œ ê³µì‹ ëª…ì¹­ì´ í•„ìš”í•˜ë‹¤ë©´ ìƒí‘œë¥¼ ë¶™ì—¬ë¼.

---

<strong><ì°¸ê³ ìë£Œ></strong>

[ì±…] [#ì´í™í‹°ë¸Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸][effective-typescript] - ëŒ„ ë°´ë”ìº„ ì§€ìŒ -
[ë¸”ë¡œê·¸] [#sorto.me][blog]

---

##### ê³µì‹ ëª…ì¹­ì—ëŠ” ìƒí‘œë¥¼ ë¶™ì´ê¸° end

[effective-typescript]: https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=273193135&start=slayer
[blog]: https://sorto.me/posts/2021-05-12--nominal